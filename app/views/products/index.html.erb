<div class="container">
  <h1><%= t :Cate %></h1>
  <% if @category.name.nil? %>
    <h3><%= link_to t(:missing_name), category_path(id: @category.id) %></h3>
  <% else %>
    <h3><%= link_to @category.name, category_path(id: @category.id) %></h3>
  <% end %>
  <%= form_tag @products_path, method: "get" do %>
    <%= hidden_field_tag :direction, params[:direction] %>
    <%= hidden_field_tag :sort, params[:sort] %>
    <p>
      <%= text_field_tag :search, params[:search] %>
      <%= submit_tag "Search", :name => nil %>
    </p>
  <% end %>
  <ul>
    <%= sortable "name" %>
    <%= sortable "price" %>
    <% @products.each do |prod| %>
      <li>
        <p>
        <%= link_to prod.name, category_product_path(
          category_id: prod.category_id, id: prod.id) %>
        </p>
        <p><%= link_to prod.price, "#" %></p>
      </li>
    <% end %>
  </ul>
  <div><%= paginate @products %></div>
</div>
