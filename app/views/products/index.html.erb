<div class="container">
  <h1><%= t :Cate %></h1>
  <% if @category.name.nil? %>
    <h3><%= link_to t(:missing_name), category_path(id: @category.id) %></h3>
  <% else %>
    <h3><%= link_to @category.name, category_path(id: @category.id) %></h3>
  <% end %>
  <%= form_tag @products_path, method: :get do %>
    <%= hidden_field_tag :direction, params[:direction] %>
    <%= hidden_field_tag :sort, params[:sort] %>
    <p>
      <%= text_field_tag :search, params[:search] %>
      <%= submit_tag t(:search), name: nil %>
    </p>
  <% end %>
  <ul>
    <%= sortable "name" %>
    <%= sortable "price" %>
    <% @products.each do |product| %>
      <li>
        <p>
        <%= link_to product.name,
          category_product_path(category_id: product.category_id, id: product.id) %>
        </p>
        <p><%= link_to product.price, "#" %></p>
      </li>
    <% end %>
  </ul>
  <div><%= paginate @products %></div>
</div>
